# 📌 PR 제목

> [feat] #295 관리자 기능 개선 및 사용자 경험 향상

## ✨ 변경/추가된 기능 요약

- **엑셀 업로드 검증 페이지 추가**: 입금내역 엑셀 파일 업로드 후 검증 및 상세정보 수정 기능 추가

- **문의사항 검색 기능 강화**: 전체/작성자명/게시글명 검색 옵션 추가 및 정렬 필터 제거

- **문의사항 비밀번호 초기화 기능**: 관리자가 비밀글 문의사항의 비밀번호를 초기화할 수 있는 기능 추가 (커스텀 모달 사용)

- **대회관리 년도 필터링**: 정렬 기준을 년도 필터로 변경하여 대회 목록 필터링 개선

- **기록관리 메뉴 추가**: 참가신청 하위에 기록관리 메뉴 추가 (서비스 준비중 페이지)

- **스켈레톤 UI 추가**: 메인 페이지, 갤러리, 문의사항/공지사항 등 로딩 상태 개선

- **입력 필드 검증 강화**: 휴대폰 번호 입력 필드에 숫자만 입력 가능하도록 제한

- **상세보기 UX 개선**: 상세보기 수정 기능을 사이드 드로어로 변경하여 사용성 향상

## ✅ 주요 작업 내역

- [x] 컴포넌트 추가/수정

  - 엑셀 검증 페이지 컴포넌트 추가

  - 문의사항 검색 필터 컴포넌트 수정

  - 문의사항 테이블에 비밀번호 초기화 컬럼 추가 (상태와 삭제 사이)

  - 비밀번호 초기화용 커스텀 모달 컴포넌트 추가 (ConfirmModal, PasswordModal 활용)

  - 대회관리 년도 필터 컴포넌트 수정

  - 스켈레톤 UI 컴포넌트 추가 (TopSection, MiddleSection, SNSSection, 갤러리, 문의사항/공지사항)

  - 상세보기 사이드 드로어 컴포넌트로 변경

  - PhoneField 컴포넌트에 숫자 입력 제한 추가

- [x] 라우팅 추가/수정

  - `/admin/applications/records` 기록관리 페이지 라우팅 추가

  - 엑셀 검증 페이지 라우팅 추가

- [x] API 연동/상태 관리

  - 엑셀 업로드 검증 API 연동

  - 검증 페이지 내 상세정보 수정 API 연동

  - 문의사항 비밀번호 초기화 API 연동 (PATCH /api/v1/question/{questionId})

  - 대회관리 년도 필터링 로직 추가

  - 문의사항 검색 API 파라미터 수정 (questionSearchKey, questionSortKey)

- [x] UI 스타일 수정

  - 문의사항 필드 넓이 조정

  - 문의사항 테이블에 비밀번호 초기화 컬럼 추가 (비밀글인 경우에만 표시)

  - 스켈레톤 UI 디자인 세부 조정

  - 여백 추가 및 디자인 개선

  - 일치/불일치 건수 표기 UI 추가

- [x] 에러 처리 개선

  - 빌드 오류 해결

  - 결제상태에 따른 수정 규칙 수정

  - 비밀번호 초기화 에러 처리 및 사용자 피드백 개선 (커스텀 모달 사용)

- [x] 기타 작업

  - 더미데이터 삭제

  - 불필요 파일 삭제

  - 협회배너/API배너 분리

  - 기본 메인배너 추가

  - 페이지 로딩 방식 변경 (대회 로딩 방식 개선)

  - 네이티브 prompt/confirm/alert 대신 커스텀 모달 사용으로 UX 개선

## 🧪 테스트 결과

- [x] 정상적으로 동작하는지 확인

  - 엑셀 업로드 및 검증 기능 정상 동작

  - 검증 페이지 내 상세정보 수정 기능 정상 동작

  - 문의사항 검색 기능 정상 동작 (전체/작성자명/게시글명)

  - 문의사항 비밀번호 초기화 기능 정상 동작 (비밀글인 경우에만 초기화 버튼 표시)

  - 비밀번호 초기화 모달 플로우 정상 동작 (확인 → 비밀번호 입력 → 성공/실패 알림)

  - 대회관리 년도 필터링 정상 동작

  - 휴대폰 번호 입력 필드 숫자 제한 정상 동작

- [x] 이전 기능과 충돌 없는지 확인

  - 기존 검색 기능과 충돌 없음

  - 기존 필터링 기능과 충돌 없음

  - 기존 수정 기능과 충돌 없음

  - 기존 문의사항 삭제 기능과 충돌 없음

- [x] UI/UX 문제 없는지 확인

  - 스켈레톤 UI가 자연스럽게 표시됨

  - 사이드 드로어 사용성 개선 확인

  - 비밀번호 초기화 모달이 자연스럽게 동작함

  - 반응형 레이아웃 정상 동작

### 테스트 방법 및 결과 요약

- Chrome, Safari에서 테스트 완료

- 모바일 반응형 확인 완료

- 엑셀 파일 업로드 및 검증 플로우 테스트 완료

- 문의사항 검색 기능 테스트 완료 (전체/작성자명/게시글명)

- 문의사항 비밀번호 초기화 기능 테스트 완료 (비밀글인 경우 초기화 버튼 표시 확인, 모달 플로우 확인, API 호출 확인)

- 대회관리 년도 필터링 테스트 완료

- 휴대폰 번호 입력 필드 숫자 제한 테스트 완료 (개인/단체 신청, 수정 페이지)

## 📚 참고 자료

- 관련 이슈: #295

## 👀 리뷰어에게 하고 싶은 말

- **엑셀 검증 페이지**: 입금내역 엑셀 파일 업로드 후 검증 및 상세정보 수정 기능이 추가되었습니다. 검증 로직과 수정 API 연동 부분을 특히 확인해주시면 감사하겠습니다.

- **문의사항 검색 개선**: 정렬 필터를 제거하고 검색 옵션을 전체/작성자명/게시글명으로 변경했습니다. 검색 API 파라미터 변경 부분을 확인해주세요.

- **문의사항 비밀번호 초기화**: 관리자가 비밀글 문의사항의 비밀번호를 초기화할 수 있는 기능을 추가했습니다. 테이블의 상태와 삭제 컬럼 사이에 "비번 초기화" 컬럼을 추가했으며, 비밀글인 경우에만 초기화 버튼이 표시됩니다. 네이티브 prompt/confirm/alert 대신 커스텀 모달(ConfirmModal, PasswordModal, SuccessModal, ErrorModal)을 사용하여 UX를 개선했습니다. 비밀번호 초기화 API 연동 및 에러 처리 부분을 확인해주세요.

- **대회관리 년도 필터**: 정렬 기준을 년도 필터로 변경하면서 실제 존재하는 년도만 표시되도록 동적으로 옵션을 생성하도록 구현했습니다. 참가신청 페이지와 동일한 방식으로 구현했습니다.

- **스켈레톤 UI**: 로딩 상태를 개선하기 위해 여러 섹션에 스켈레톤 UI를 추가했습니다. 로딩 성능과 UX 개선에 도움이 될 것으로 기대합니다.

- **입력 필드 검증**: 휴대폰 번호 입력 필드에 숫자만 입력 가능하도록 제한했습니다. 개인/단체 신청 폼과 수정 폼 모두에 적용했습니다.


